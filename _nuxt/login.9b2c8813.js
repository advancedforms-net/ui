import{k as E,G as y,H as S,bv as u,a6 as w,o as _,p as x,a as e,w as o,I,u as l,c as B,b as k,J as L,E as V,f as M,h as C,bw as T,bx as H,e as N}from"./entry.e7d4803d.js";import{E as A,a as F,b as U,c as j,d as q,v as D}from"./index.0db7f8fe.js";import{E as G}from"./message-box.6c9f2e93.js";import{_ as J}from"./_plugin-vue_export-helper.c27b6911.js";const K=t=>(T("data-v-e88bd93b"),t=t(),H(),t),O=K(()=>N("h1",null,"Login to create and manage your forms!",-1)),P=E({__name:"login",setup(t){const s=y(!1),a=S({email:""});async function r(){const c=u(),{email:n}=a;s.value=!0;try{await c.login(n),G.alert("<p>An email containing your login information has been sent to the provided email address.</p><br/><p>Please check your inbox (and spam folder, just in case) to access your account.</p>","Login send to mail",{confirmButtonText:"OK",dangerouslyUseHTMLString:!0})}catch(i){A.error("Something went wrong with sending login mail."),console.log(i)}s.value=!1}return u().isLoggedIn&&w("/"),(c,n)=>{const i=V,d=F,m=U,p=j,f=q,g=M,b=C,h=D;return _(),x("div",null,[e(b,null,{default:o(()=>[e(i,null,{default:o(()=>[O]),_:1}),e(g,null,{default:o(()=>[I((_(),B(f,{inline:!0,model:l(a),onSubmit:L(r,["prevent"])},{default:o(()=>[e(m,{label:"Email"},{default:o(()=>[e(d,{modelValue:l(a).email,"onUpdate:modelValue":n[0]||(n[0]=v=>l(a).email=v),placeholder:"Email",type:"email",autocomplete:"on",required:""},null,8,["modelValue"])]),_:1}),e(m,null,{default:o(()=>[e(p,{type:"primary",onClick:r},{default:o(()=>[k(" Login ")]),_:1})]),_:1})]),_:1},8,["model","onSubmit"])),[[h,l(s)]])]),_:1})]),_:1})])}}});const Y=J(P,[["__scopeId","data-v-e88bd93b"]]);export{Y as default};
